{% for analysis, sample in rows %}
<tr class="hover:bg-dark-900/50 transition duration-150">
    <td class="px-6 py-4">
        <div class="flex items-center space-x-3">
            <i data-lucide="file" class="text-dark-400 w-5 h-5"></i>
            <div>
                <p class="text-white font-medium text-sm truncate max-w-[200px]">{{ sample.filename }}</p>
                <p class="text-dark-500 text-xs font-mono">{{ sample.sha256[:16] }}...</p>
            </div>
        </div>
    </td>
    <td class="px-6 py-4">
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 
            {% if analysis.status == 'completed' %} bg-green-900/30 text-green-400
            {% elif analysis.status == 'failed' %} bg-red-900/30 text-red-400
            {% else %} bg-blue-900/30 text-blue-400 animate-pulse {% endif %}">
            {{ analysis.status | capitalize }}
        </span>
    </td>
    <td class="px-6 py-4">
        <div class="w-full bg-dark-800 rounded-full h-1.5 max-w-[100px]">
            <div class="h-1.5 rounded-full {% if analysis.risk_score > 70 %} bg-accent-red {% elif analysis.risk_score > 30 %} bg-yellow-500 {% else %} bg-green-500 {% endif %}"
                style="width: {{ analysis.risk_score }}%"></div>
        </div>
        <span class="text-xs font-bold mt-1 block">{{ analysis.risk_score }} / 100</span>
    </td>
    <td class="px-6 py-4">
        <span class="text-white font-bold text-sm">{{ analysis.vt_detections | default(0) }}</span>
        <span class="text-dark-500 text-xs"> / 75</span>
    </td>
    <td class="px-6 py-4 text-right">
        <a href="/analysis/{{ analysis.id }}" class="text-accent-cyan hover:text-white transition font-medium text-sm">
            Ver Detalle
        </a>
    </td>
</tr>
{% endfor %}

<script>
    // Re-init icons for new rows
    lucide.createIcons();
</script>